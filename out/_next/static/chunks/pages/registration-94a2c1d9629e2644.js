(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[907],{4508:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/registration",function(){return c(5256)}])},121:function(a,b,c){"use strict";c.d(b,{Z:function(){return h}});var d=c(5893),e=c(5675),f=c.n(e),g=c(1163);function h(a){var b=a.removeUrl,c=(0,g.useRouter)(),e=function(){c.push(b)};return(0,d.jsxs)("div",{className:"flex items-center justify-between header-main w-full border-b-2 px-4 py-2",children:[(0,d.jsxs)("button",{onClick:e,className:"flex items-center",children:[(0,d.jsx)(f(),{width:24,height:24,src:"/assets/icon/left-arrow.svg",alt:""}),(0,d.jsx)("p",{className:"ml-4",children:"Назад"})]}),(0,d.jsx)(f(),{width:80,height:40,src:"/assets/image/logo.svg"})]})}},5256:function(a,b,c){"use strict";c.r(b),c.d(b,{default:function(){return r}});var d=c(1799),e=c(9396),f=c(5893),g=c(121),h=c(6866),i=c(6627),j=c.n(i),k=c(5675),l=c.n(k),m=c(7294),n=c(9669),o=c.n(n),p=c(129),q=c.n(p);function r(){var a=(0,m.useState)(""),b=a[0],c=a[1],i=(0,m.useState)(""),k=i[0],n=i[1],p=(0,m.useState)(""),r=p[0],s=p[1],t=(0,m.useState)(""),u=t[0],v=t[1],w=(0,m.useState)(""),x=w[0],y=w[1],z=(0,m.useState)(""),A=z[0],B=z[1],C=(0,m.useState)(!1),D=C[0],E=C[1],F=(0,m.useState)(""),G=F[0],H=F[1],I=(0,m.useState)(!1),J=I[0],K=I[1],L=(0,m.useCallback)(function(a){c(a.target.value),b.length>17&&console.log("asd")},[b.length]),M=(0,m.useCallback)(function(a){n(a.target.value)},[]),N=(0,m.useCallback)(function(a){s(a.target.value)},[]),O=(0,m.useCallback)(function(a){v(a.target.value)},[]),P=(0,m.useCallback)(function(a){y(a.target.value)},[]),Q=function(a){B(a.target.value)},R=function(){o()({method:"post",url:"https://api.jukte.kz/auth/register",data:q().stringify({phone:b.replace(/(-)|\+|\(|\)/g,""),password:x,transportWeight:"20",transportType:"самосвал",role:A,name:r,surname:u,iin:k})}).then(function(a){console.log(a.data),E(!1)}).catch(function(a){a.response.data.message.includes("E11000")&&(E(!0),H("Такой пользователь уже зарегестрирован"))})};return(0,m.useEffect)(function(){K(18===b.length&&r.length>0&&u.length>0&&12===k.length&&x.length>0&&A.length>0)}),(0,f.jsxs)("div",{children:[(0,f.jsx)(g.Z,{removeUrl:"/"}),(0,f.jsxs)("div",{className:"registration-main",children:[(0,f.jsx)("h1",{children:"Регистрация пользователя"}),(0,f.jsxs)("p",{className:"my-2",children:["Введите данные для регистрации в ",(0,f.jsx)("span",{children:"Jukte.kz"})]}),(0,f.jsxs)("div",{className:"flex gap-2 py-4 radio-button-container",children:[(0,f.jsxs)("div",{className:"w-1/2 flex items-center pl-4",children:[(0,f.jsx)("input",{onChange:Q,id:"bordered-radio-1",type:"radio",value:"logistician",name:"bordered-radio",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,f.jsx)("label",{htmlFor:"bordered-radio-1",className:"py-4 ml-2 w-full text-sm font-medium text-gray-900 dark:text-gray-300",children:"Грузоотправитель"})]}),(0,f.jsxs)("div",{className:"w-1/2 flex items-center pl-4",children:[(0,f.jsx)("input",{onChange:Q,id:"bordered-radio-2",type:"radio",value:"driver",name:"bordered-radio",className:"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 dark:focus:ring-blue-600 dark:ring-offset-gray-800 focus:ring-2 dark:bg-gray-700 dark:border-gray-600"}),(0,f.jsx)("label",{htmlFor:"bordered-radio-2",className:"py-4 ml-2 w-full text-sm font-medium text-gray-900 dark:text-gray-300",children:"Грузоперевозчик"})]})]}),(0,f.jsxs)("form",{className:"flex flex-col registration-form",children:[(0,f.jsxs)("div",{className:"mb-auto",children:[(0,f.jsxs)("div",{className:"input-container",children:[(0,f.jsx)("div",{className:"mb-2 block",children:(0,f.jsx)(h.__,{htmlFor:"phone",value:"Введите номер телефона"})}),(0,f.jsx)(j(),{value:b,maskChar:null,onChange:L,mask:"+7-(999)-999-99-99",children:function(a){return(0,f.jsx)(h.oi,(0,e.Z)((0,d.Z)({},a),{id:"phone",type:"phone",placeholder:"+7-777-777-77-77",required:!0,sizing:"lg"}))}})]}),(0,f.jsxs)("div",{className:"input-container",children:[(0,f.jsx)("div",{className:"mb-2 block",children:(0,f.jsx)(h.__,{htmlFor:"iin",value:"Введите свои ИИН"})}),(0,f.jsx)(j(),{value:k,maskChar:null,onChange:M,mask:"999999999999",children:function(a){return(0,f.jsx)(h.oi,(0,e.Z)((0,d.Z)({},a),{id:"iin",placeholder:"ИИН",required:!0,sizing:"lg"}))}})]}),(0,f.jsxs)("div",{className:"input-container",children:[(0,f.jsx)("div",{className:"mb-2 block",children:(0,f.jsx)(h.__,{htmlFor:"name",value:"Введите свое имя"})}),(0,f.jsx)(h.oi,{id:"name",type:"text",placeholder:"Имя",required:!0,sizing:"lg",value:r,onChange:N})]}),(0,f.jsxs)("div",{className:"input-container",children:[(0,f.jsx)("div",{className:"mb-2 block",children:(0,f.jsx)(h.__,{htmlFor:"surname",value:"Введите свою фамилию"})}),(0,f.jsx)(h.oi,{id:"surname",type:"text",placeholder:"Фамилия",required:!0,sizing:"lg",value:u,onChange:O})]}),(0,f.jsxs)("div",{className:"input-container",children:[(0,f.jsx)("div",{className:"mb-2 block",children:(0,f.jsx)(h.__,{htmlFor:"password",value:"Придумайте пароль"})}),(0,f.jsx)(h.oi,{id:"password",type:"password",placeholder:"Пароль",required:!0,sizing:"lg",value:x,onChange:P})]}),D&&(0,f.jsxs)("h2",{className:"flex items-center gap-2",children:[(0,f.jsx)(l(),{width:24,height:25,src:"/assets/icon/attention.svg",alt:"errorIcon"}),G]})]}),(0,f.jsx)("button",{type:"button",disabled:!J,onClick:R,className:"flex items-center px-4",children:(0,f.jsx)("p",{className:"w-full",children:"Зарегестрироваться"})})]})]})]})}},4654:function(){}},function(a){a.O(0,[556,873,674,774,888,179],function(){var b;return a(a.s=4508)}),_N_E=a.O()}])